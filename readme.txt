/*------------------------------------------*/
/* 测试程序：*/
        
/*------------------------------------------*/ 


/********************************************************************************************************/

一、项目文件说明
	Project	:	存放工程的配置、编译、链接、生成的烧写文件
	Source	：	存放工程的源代码文件
		|
		\---StartUp	:	启动文件、M0+内核文件等
		|
		|
		\---Common	:	\config.h	：片上外设的配置文件(外设的选择及管脚的选择)
		|				|
		|				\define.h	：板上外设的配置文件(管脚宏定义、设备开关)
		|				|
		|				\variable.h	：全局变量
		|				|
		|				\common.c	：通用函数
		|
		|
		\---Drive	:	芯片外设驱动文件
		|
		\---Device	:	板载硬件设备驱动
		|
		\---UserApp	：	用户编写的应用文件
		|
		\---Readme	:	关于工程的说明
		
		
二、UserApp中文件代码常用规范定义
	1、文件头文件
/*********************************************************************************************************
** File name		: ***
** Description 		: ***
** Compiler			：MDK v4.72
** Author			: Keno
** Date				: 2013.12.1
** Version			: V01
*********************************************************************************************************/

	2、函数头文件
/*********************************************************************************************************
** Function name	: 
** Function type	: 
** Description		: 
** Parameter		: 
** Return			: 
*********************************************************************************************************/

	3、文件结尾
/********************************************* END OF FILE **********************************************/

	4、系统头文件声明
/******************************************** 系统头文件声明 *********************************************/

	5、用户头文件声明
/******************************************** 用户头文件声明 *********************************************/

	6、宏定义
/************************************************ 宏定义 *************************************************/

	7、全局变量声明
/********************************************* 全局变量声明 **********************************************/

	8、外部变量声明
/********************************************* 外部变量声明 **********************************************/

	9、函数声明
/*********************************************** 函数声明 ************************************************/

	10、注释
																	/* 注释的内容1						*/
																	/* 注释的内容2			            */
	11、每个函数后面空一行再继续写下一函数	

三、硬件切换

	A、国产版和进口版切换步骤 (国产：ZFM70，进口：PFAS06MA01)

		①、添加 ZFM70.lib/PFASO6MA01.C，删除  PFASO6MA01.C/ZFM70.lib
		    添加 ZFM70.h/PFAS06MA01.h，删除 PFAS06MA01.h/ZFM70.h
		②、Config.h 头文件中 FP_SET 设置为 PF_ZEM70/FP_AS06MA01
		③、service.h 头文件中 	选中 ZFM70.h/PFAS06MA01 ，删除 PFAS06MA01/ZFM70.h
		
	B、更新指纹头切换方式，版本：2016/8/15: "V1.8"
		①、只需在Config.h 头文件中 FP_SET 设置为 PF_ZEM70/FP_AS06MA01
		
	C、CY8CMBR3116和MPR121触摸芯片切换步骤
	
		①、Config.h 头文件中 TOUCH_IC 宏定义来进行切换
		
四、版本注释

		2016/6/15："V1.7_V1.2"	版本在"V1.7_V1.1"版本上新增条码ID烧录功能，可查询 "2016/6/15" 字符串进行代码修改查看
		
		2016/6/21: "V1.7_V1.3"	修正在指纹+密码模式下开门模式下，输入查询码，退出后出现异常状态， 修改函数：FingerprintAndPassword_PasswordIdentify() 添加了  InputState==2 的判断
		
		2016/6/15："V1.7_V1.2" 版本在"V1.7_V1.1"版本上新增条码ID烧录功能，可查询 "2016/6/15" 字符串进行代码修改查看	
		
		2016/6/21: "V1.7_V1.3" 修正在指纹+密码模式下开门模式下，输入查询码，退出后出现异常状态， 修改函数：FingerprintAndPassword_PasswordIdentify() 添加了  InputState==2 的判断
		
		2016/8/15: "V1.8" 修正 (1)、指纹头点击异常复位 (2)、错误锁屏次数异常的BUG
			①、SystemPowerOnConfig() 函数中增加 RCM_SRS0，RCM_SRS1（RCM_SRSx 复位寄存器） 串口传出功能
			②、System_WaitEnterIdleMode() 函数中去掉了进入低功耗的 if(System_TimeOut ==0)判断语句
			③、System_EnterIdleMode() 函数中注释了防撬程序
			④、修改指纹头切换方式，只需在Config.h文件中配置一下即可
			⑤、Fingerprint_Close() 注释①，②，将指纹头通信线修改为输出模式，关闭串口中断并清除指纹头缓存数据，修正线性电源供电时国产指纹头验证管理指纹失败后，指纹头再次点亮问题
			⑥、UART2_IRQHandler() 在UART2串口中断中，修改了只有当指纹头数据包全部接收后才会更新系统时间
			⑦、指纹头唤醒无操作错误和指纹匹配错误统一记录到 ErrorQTY_Fingerprint 计数中，详见 FingerprintIdentify()函数中的 注释 ②，③
			⑧、Fingerprint_AutoSearchChar() 函数中添加了 0xE2命令的判断，当出现 0xE2命令后，系统提示“电量用尽，请更换电池”，详见 FingerprintIdentify(),FingerprintAndPassword_FingerprintVerifyJudge(),VerifyManageFingerprint()函数中的注释 ①			
			⑨、设置键中增加了低电压判断，当电量极低的时候，不允许进入菜单栏，详见 KeySetWakeUpHandler();函数中的注释 ①
			⑩、调整了电压阀值，第⑨点中增加了数据判断
			
		2016/9/14: "V1.9" ①、修正一定概率地址编号显示错误 ②、添加“深圳市”和“厦门市”	
			遗漏地址添加步骤：
				下位机：在字库中找到对应的省，在市的最后添加遗漏的地址
				上位机：在config文件夹中找对应的省文本，在最后添加遗漏的地址
			
		2016/6/21: "V2.0"	
			①、新增 CY8CMBR3116 触摸芯片
			②、修改注册指纹界面中，普通指纹和管理指纹的顺序
			③、得使能触摸中断的上下拉功能
			
		2016/10/21: "V02.01"
			①、新增版本查询功能，便于后续产品维护
			
		2016/10/21: "V02.02"
			①、修改条码显示的内容，“日期”改为“序列号”-》显示的内容为16进制的出厂日期

		2016/10/21: "V02.03"
			补全遗漏的条码地址ID
			
		2016/12/02: "V02.04"
			新增“杭州-韩宝伟”条码ID
			
		2016/12/02: "Prpgram → 03.00，PCB → V2.0"
			新增软板触摸程序

		2016/12/10: "Prpgram → 03.01，PCB → V2.0"
			格式化5秒，添加滴滴提示音量
			
		2016/12/10: "Prpgram → 03.03，PCB → V2.0"
			触摸芯片初始化时间加长
			
		2016/12/10: "Prpgram → 09.01，PCB → V2.0"
			①、极智联网板
			②、去掉了条码ID烧录功能
			③、调整性能模式语音播报的BUG
			④、定时上报电量BUG修复“看门狗复位了”，初始化触摸芯片时间过长
			⑤、定时上报电量长度有误
		
		2017/04/12: "Prpgram → 09.02，PCB → V2.0"	
			①、增加入网应答信号判断
			
		2017/04/22: Prpgram → 09.05，PCB → V2.2
			①、"增加了条码烧录功能"
			
		2017/07/30: Prpgram → 09.10，PCB → V2.2	
			①、加长语音播放的初始化时间
			②、上电初始化喂狗参数
			③、调整开门类型序号
			④、体验模式增加入网操作
			
		2017/08/17 : Prpgram → 09.11，PCB → V2.2	
			①、联网程序中增加了指纹头异常判断
			②、体验模式密码盘开启加了500ms延迟时间
			
		2017/08/17 : Prpgram → 09.12，PCB → V2.2	
			①、进口指纹头添加低电压检测报警
			
		2017/08/17 : Prpgram → 09.13，PCB → V2.2	
			①、添加邦荣指纹头程序
			②、修改密码显示ID，第5组密码开门时，显示ID号为005

		2017/08/17 : Prpgram → 09.26，PCB → V2.2
			①、添加临时密码
			②、增加开门时的低电压检测,两次检测做了关联
			③、修改锁屏次数
			④、修正进口指纹头无反应
			⑤、其它BUG
			
		2017/12/21 : Prpgram → 09.27，PCB → V2.2
			①、注释掉第二段电压检测
			②、注释掉防撬报警代码

		2018/02/03 : Prpgram → 09.28，PCB → V2.2
			①、校准始终芯片
			②、锁屏状态下无法唤醒指纹头
		
		2018/02/03: Prpgram → 09.29，PCB → V2.2
			①、修正邦荣指纹头，锁屏时间异常
			
		2018/02/03: Prpgram → 09.30，PCB → V3.1
			①、更改电机驱动芯片
			
		2018/07/19: Prpgram → 09.40，PCB → V3.1
			①、添加本地指纹头
			
五、KEIL相关设置
		
		（1） 设置复位变量RAM不清0  (http://www.eeworld.com.cn/mcu/article_2016063027317.html)
			步骤1、	option for target -> target -> 勾选 No Init
			步骤2、	关键字 __attribute__((zero_init)) 定义变量	例如：__attribute__((zero_init))		int  tmp;		
		
		
		
		
		
		
		
		
		
		
		
		
		                                                                                                                                                                                                                                                                                                                                       